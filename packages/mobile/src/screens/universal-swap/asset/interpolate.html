<!DOCTYPE html>
<html>

<head>
  <script type="module">
    const {UniversalSwapHandler, universalSwapData, Metamask, KeplrWallet} = window ?? {}
    try {
      const keplrWallet = new KeplrWallet('owallet');
      window.kelpr = keplrWallet;
      const dataToSwap = JSON.parse(universalSwapData)
      const universalSwapHandler = new UniversalSwapHandler(
        {
         ...dataToSwap,
        },
        { cosmosWallet: keplrWallet, evmWallet: new Metamask(window.tronWeb) }
    );
      // alert(JSON.stringify(universalSwapHandler))
      // alert(typeof(universalSwapHandler.processUniversalSwap)) 
      // window.owallet.enable('Oraichain-testnet');
      
      universalSwapHandler.processUniversalSwap()
      // .then(() => {
      //   try {
      //     alert(JSON.stringify('success'))
      //   } catch(err) {
      //     alert(JSON.stringify(err.message))
      //   }
      //   // window.ReactNativeWebView.postMessage(JSON.stringify({result}));
      // })
    } catch(err) {
      alert(JSON.stringify(err.message))
      window.ReactNativeWebView.postMessage(JSON.stringify({error: error.message}));
    }
  
  </script>

</head>

</html>


